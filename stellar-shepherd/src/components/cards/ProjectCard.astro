---
import { Image } from 'astro:assets';
import type { Project } from '../../data/portfolioData';
import githubIcon from '../../assets/icons/github.svg?raw';
import globeIcon from '../../assets/icons/globe.svg?raw';

const { project } = Astro.props as { project: Project };
---

<article class="fade-up fade-up-2 flex h-full flex-col rounded-3xl border border-[rgba(44,166,255,0.2)] bg-[rgba(6,15,36,0.85)] p-6">
	{project.image ? (
		<Image
			src={project.image}
			alt={`Capture ${project.title}`}
			width={256}
			height={256}
			class="h-32 w-full rounded-2xl border border-[rgba(44,166,255,0.25)] bg-[rgba(7,20,46,0.9)] object-contain p-4"
			loading="lazy"
		/>
	) : project.emoji ? (
		<div class="flex h-32 items-center justify-center rounded-2xl border border-dashed border-[rgba(44,166,255,0.35)] bg-[rgba(7,20,46,0.9)] text-4xl">
			<span aria-hidden="true">{project.emoji}</span>
			<span class="sr-only">Illustration {project.title}</span>
		</div>
	) : (
		<div class="h-32 rounded-2xl border border-dashed border-[rgba(44,166,255,0.35)] bg-[rgba(7,20,46,0.9)]"></div>
	)}
	<h3 class="mt-5 text-xl font-semibold">{project.title}</h3>
	<p class="mt-3 text-sm text-[color:var(--ink-1)]">{project.description}</p>
	{project.links ? (
		<div class="mt-4 flex flex-wrap gap-2">
			{project.links.map((link) => (
				<a
					href={link.url}
					target="_blank"
					rel="noreferrer"
					class="inline-flex items-center gap-2 rounded-full border border-[rgba(44,166,255,0.35)] px-4 py-2 text-xs font-semibold text-[color:var(--ink-0)] transition hover:border-[rgba(44,166,255,0.7)]"
				>
					<span
						class="inline-flex h-4 w-4"
						aria-hidden="true"
						set:html={link.type === 'github' ? githubIcon : globeIcon}
					></span>
					<span>{link.type === 'github' ? 'GitHub' : 'Site'}</span>
				</a>
			))}
		</div>
	) : null}
	<div class="mt-5 flex flex-wrap gap-2 text-xs text-[color:var(--ink-2)]">
		{project.tags.map((tag) => (
			<span class="rounded-full border border-[rgba(44,166,255,0.2)] px-3 py-1">
				{tag}
			</span>
		))}
	</div>
</article>
